# Pulse ERP - Environment Variables
# Copy this file to .env and update values

# ============================================
# General Configuration
# ============================================
DOMAIN=local
# For production, set to your domain: example.com
# Services will be available at: app.example.com, grafana.example.com, etc.

DATA_PATH=/mnt/ssd
# Path for persistent data storage
# Production (Pi with SSD): /mnt/ssd
# Development: ./data

# ============================================
# Traefik / TLS
# ============================================
ACME_EMAIL=admin@example.com
# Email for Let's Encrypt certificate notifications

# ============================================
# PostgreSQL
# ============================================
POSTGRES_DB=pulse_erp
POSTGRES_USER=pulseadmin
POSTGRES_PASSWORD=changeme_strong_password_here
# IMPORTANT: Change this in production!

# ============================================
# NATS JetStream
# ============================================
NATS_URL=nats://nats:4222
# Internal URL for services to connect to NATS

# ============================================
# MinIO (S3 Storage)
# ============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123_changeme
MINIO_ENDPOINT=minio:9000
MINIO_USE_SSL=false
# Set to true in production with proper TLS

# ============================================
# Grafana
# ============================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
# IMPORTANT: Change this in production!

# ============================================
# Service Configuration
# ============================================

# Orders Service
ORDERS_SERVICE_PORT=8001
ORDERS_DB_NAME=pulse_erp
ORDERS_DB_SCHEMA=orders

# Inventory Service
INVENTORY_SERVICE_PORT=8002
INVENTORY_DB_NAME=pulse_erp
INVENTORY_DB_SCHEMA=inventory

# Billing Service
BILLING_SERVICE_PORT=8003
BILLING_DB_NAME=pulse_erp
BILLING_DB_SCHEMA=billing

# OLAP Worker
OLAP_WORKER_BATCH_SIZE=100
OLAP_WORKER_FLUSH_INTERVAL=10s

# OLAP Query API
OLAP_QUERY_API_PORT=8004
DUCKDB_PATH=/mnt/ssd/olap/analytics.duckdb

# ============================================
# Auth (Keycloak) - Sprint 2
# ============================================
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=changeme_keycloak_admin
KEYCLOAK_REALM=erp-demo

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR

# Prometheus
PROMETHEUS_RETENTION=7d

# ============================================
# Resource Limits (Pi 5 Optimized)
# ============================================
# These are defaults; override in docker-compose files as needed
MAX_POSTGRES_MEMORY=2G
MAX_NATS_MEMORY=512M
MAX_MINIO_MEMORY=512M
MAX_SERVICE_MEMORY=256M

# ============================================
# Feature Flags (Optional)
# ============================================
ENABLE_TRACING=false
# Set to true to enable OpenTelemetry tracing (Sprint 2)

ENABLE_DEBUG_MODE=false
# Set to true for verbose logging and debug endpoints
